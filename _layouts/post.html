<!DOCTYPE html>
<html lang="en">

{% include head.html %}

<body>
    <div style="position: fixed; top: 0; left: 0; width: 100%; height: 3px; z-index: 9999; background: transparent;">
        <div id="scroll-progress" style="height: 100%; width: 0%; background: var(--accent); transition: width 0.1s;">
        </div>
    </div>

    <div class="container">
        {% include nav.html %}

        <article class="fade-in">
            <header style="margin-bottom: 40px; border-bottom: 1px solid var(--border); padding-bottom: 20px;">
                <div style="display: flex; justify-content: space-between; align-items: baseline;">
                    <span style="color: var(--text-sub); font-size: 0.9rem;">
                        {{ page.date | date: "%B %d, %Y" }} â€¢ {{ content | number_of_words | divided_by: 180 | plus: 1
                        }} min read
                    </span>
                    <span
                        style="color: var(--accent); font-size: 0.8rem; border: 1px solid var(--border); padding: 4px 8px; border-radius: 4px;">{{
                        page.tag }}</span>
                </div>
                <h1 style="margin-top: 15px; font-size: 2.2rem;">{{ page.title }}</h1>
                <p class="subtitle" style="margin-bottom: 0;">{{ page.summary }}</p>
            </header>

            <div class="bio" style="font-size: 1.1rem; line-height: 1.8;">
                {{ content }}
            </div>

            <div style="margin-top: 60px; padding-top: 40px; border-top: 1px solid var(--border);">
                <h3 style="color: var(--text-sub); font-size: 1rem; margin-bottom: 20px;">Related Thoughts</h3>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    {% assign maxRelated = 2 %}
                    {% assign count = 0 %}
                    {% for post in site.posts %}
                    {% if post.url != page.url and post.tag == page.tag and count < maxRelated %} <a
                        href="{{ post.url }}" class="thought-card"
                        style="padding: 20px; border: 1px solid var(--border); border-radius: 8px;">
                        <span class="thought-date">{{ post.date | date: "%b %d" }}</span>
                        <h4 class="thought-title" style="font-size: 1.1rem; margin-top: 5px; margin-bottom: 0;">{{
                            post.title }}</h4>
                        </a>
                        {% assign count = count | plus: 1 %}
                        {% endif %}
                        {% endfor %}
                </div>
            </div>

            <div style="margin-top: 30px;">
                <a href="/thoughts/" class="nav-link" style="font-size: 0.9rem;">&larr; Back to Thoughts</a>
            </div>

            <script>
                window.addEventListener('scroll', () => {
                    const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
                    const scrollHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;
                    const scrolled = (scrollTop / scrollHeight) * 100;
                    document.getElementById('scroll-progress').style.width = scrolled + "%";
                });
            </script>
        </article>
    </div>

    <script src="/assets/js/script.js"></script>

</body>

</html>